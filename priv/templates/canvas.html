<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    
    <style>
      html, body {
        margin: 0;
        padding: 0;
      }
    </style>
  </head>
  <body>
    
    <script type="text/javascript">
      if (window.self !== window.top) {
        window.onerror = function(msg, url, line, col, error) {
           // Note that col & error are new to the HTML 5 spec and may not be 
           // supported in every browser.  It worked for me in Chrome.
           var extra = !col ? '' : '\ncolumn: ' + col;
           extra += !error ? '' : '\nerror: ' + error;

           // You can view the information in an alert to see things working like this:
           //alert("Error: " + msg + "\nurl: " + url + "\nline: " + line + extra);
           parent.postMessage("Error: " + msg + "\nurl: " + url + "\nline: " + line + extra, '*');

           var suppressErrorAlert = true;
           // If you return true, then error alerts (like in older versions of 
           // Internet Explorer) will be suppressed.
           return suppressErrorAlert;
        };
        window.addEventListener("unhandledrejection", function(event) { 
          console.log('some ding');
        });
      }
    </script>
    
    <script src="/js/pixi.min.js"></script>
    <script type="text/javascript">
      var stage = new PIXI.Container(),
          renderer = PIXI.autoDetectRenderer(256, 256);
      document.body.appendChild(renderer.view);
      renderer.render(stage);
      
      PIXI.loader
      {% for a in assets %}
        .add({{ a }})
      {% endfor %}
      ;
    </script>
    {% for s in sources %}
    <script src="{{ s }}"></script>
    {% endfor %}
    <script>
      PIXI.loader
        .load(setup);
    </script>
  </body>
</html>